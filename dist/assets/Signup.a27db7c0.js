var x=Object.defineProperty,b=Object.defineProperties;var g=Object.getOwnPropertyDescriptors;var c=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;var h=(t,a,n)=>a in t?x(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,l=(t,a)=>{for(var n in a||(a={}))y.call(a,n)&&h(t,n,a[n]);if(c)for(var n of c(a))q.call(a,n)&&h(t,n,a[n]);return t},o=(t,a)=>b(t,g(a));import{u as v,C as w,a as A,B as p,d as C,T,G as s,b as u,L as N}from"./index.esm.28da3e2b.js";import{e,j as m,A as z,T as d,o as L}from"./index.89c375a9.js";function V(){const{handleSubmit:t,control:a,formState:{errors:n}}=v({mode:"onChange"}),f=i=>{fetch("/api/user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then(r=>r.json()).then(r=>{r.success&&(window.location.href="/")})};return console.log(n),e("div",{children:m(w,{component:"main",maxWidth:"xs",children:[e(A,{}),m(p,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[e(z,{sx:{m:1,bgcolor:"secondary.main"},children:e(C,{})}),e(T,{component:"h1",variant:"h5",children:"Sign up"}),m(p,{component:"form",noValidate:!0,sx:{mt:3},onSubmit:t(f),children:[m(s,{container:!0,spacing:2,children:[e(s,{item:!0,xs:12,sm:6,children:e(u,{name:"firstName",control:a,rules:{required:!1,pattern:/^[a-zA-Z]+$/i},defaultValue:"",render:({field:i,fieldState:r})=>e(d,o(l({},i),{autoComplete:"given-name",name:"firstName",fullWidth:!0,id:"firstName",label:"First Name",error:r.invalid,autoFocus:!0}))})}),e(s,{item:!0,xs:12,sm:6,children:e(u,{name:"lastName",control:a,rules:{required:!1,pattern:/^[a-zA-Z]+$/i},defaultValue:"",render:({field:i,fieldState:r})=>e(d,o(l({},i),{fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"family-name",error:r.invalid}))})}),e(s,{item:!0,xs:12,children:e(u,{name:"username",control:a,rules:{required:!0,minLength:6,maxLength:16,pattern:/^[a-zA-Z0-9_-]{6,16}$/i},defaultValue:"",render:({field:i,fieldState:r})=>e(d,o(l({},i),{required:!0,fullWidth:!0,name:"username",label:"Username",type:"username",id:"username",autoComplete:"username",error:r.invalid,helperText:r.error&&(r.error.type==="required"?"Username is Required":r.error.type==="minLength"?"Username must be between 6 and 16 characters":"Username can only use letters numbers and underscores")}))})}),e(s,{item:!0,xs:12,children:e(u,{name:"email",control:a,rules:{required:!0,pattern:/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/i},defaultValue:"",render:({field:i,fieldState:r})=>e(d,o(l({},i),{required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",error:r.invalid,helperText:r.error&&(r.error.type==="required"?"Email is Required":"This is not a valid email")}))})}),e(s,{item:!0,xs:12,children:e(u,{name:"password",control:a,rules:{required:!0,minLength:8,maxLength:16,pattern:/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[a-zA-Z0-9~!@#$%^&*]{8,16}$/i},defaultValue:"",render:({field:i,fieldState:r})=>e(d,o(l({},i),{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"new-password",error:r.invalid,helperText:r.error&&(r.error.type==="required"?"Password is Required":"Password must be 8-16 characters and contain both numbers and letters")}))})})]}),e(L,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign Up"}),e(s,{container:!0,justifyContent:"flex-end",children:e(s,{item:!0,children:e(N,{href:"/i/flow/login",variant:"body2",children:"Already have an account? Sign in"})})})]})]})]})})}export{V as default};
